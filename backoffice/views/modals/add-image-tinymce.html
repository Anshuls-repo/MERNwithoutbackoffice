<style>
    .modal-dialog {
        width: 1200px;
        padding:30px;
    }

    .modal {
    z-index: 30050 !important;
}
.modal-backdrop {
    z-index: 30040 !important;
}
    /* width */
::-webkit-scrollbar {
  width: 3px;
}

/* Track */
::-webkit-scrollbar-track {
  box-shadow: inset 0 0 5px grey; 
  border-radius: 10px;
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: black; 
  border-radius: 10px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #b30000; 
}
</style>

<div>
    <div class="modal-header" translate>
        tinymce.modal.addImage
    </div>
    <div class="modal-body">

        <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper form-inline" role="grid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="dataTables_filter">
                        <input group="search" ng-model="local.search" ng-change="onPageChange(1)" class="search-field" name="q"
                            id="q" value="" placeholder="{{'static.list.search' | translate}}">
                    </div>
                </div>
            </div>
            <div class="scrollmenu">
                <ul class="nav nav-tabs" style="margin-top: 20px;">
                    <li ng-show="local.search === ''" class="{{currentTab === group ? 'active' : ''}}"
                        ng-repeat="group in groups | filterListGeneral"><a href="" ng-click="changeTab(group)"
                            target="_self">{{group}}</a></li>
                    <li ng-show="local.search !== ''" class="{{local.search !== '' ? 'active' : ''}}"><a data-toggle="tab"
                            href="#search" target="_self" translate>static.list.search</a></li>
                </ul>
            </div>

            <div class="row" style="margin-top:20px">
            <!-- <div class="row" style="margin-bottom:30px;overflow:scroll; height:70vh;overflow-x: hidden;padding:15px 20px"> -->
                <div ng-repeat="media in list">
                    <div ng-if="media.extension === '.png' || media.extension === '.jpg'" class="col-md-3" style="text-align: center;margin-bottom:20px">
                        <button ng-if="imageId === media._id" style="box-shadow: 0px 0px 20px 5px #576fa1;"
                            ng-click="selectImage(media)"><img
                                ng-src="/images/medias/200x100-50/{{media._id}}/{{media.link.split('/')[media.link.split('/').length - 1]}}"
                                alt=""></button>
                        <button ng-if="imageId !== media._id" ng-click="selectImage(media)"><img
                                ng-src="/images/medias/200x100-50/{{media._id}}/{{media.link.split('/')[media.link.split('/').length - 1]}}"
                                alt=""></button>
                        <br />
                        <label>{{media.name || '-'}}</label>
                    </div>
                </div>
            </div>


            <!-- <div ng-show="local.search === '' && currentTab === group" class="tab-content"
                ng-repeat="group in groups | filterListGeneral">
                <table class="table table-striped table-bordered bootstrap-datatable datatable dataTable"
                    id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info">
                    <thead>
                        <tr role="row" class="pointer">
                            <th role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                translate>
                                medias.medias.nom
                            </th>
                            <th role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                translate>
                                medias.medias.lien
                            </th>
                            <th role="columnheader" style="width: 20%" translate>
                                medias.medias.miniature
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody role="alert" aria-live="polite" aria-relevant="all">
                        <tr ng-class-odd="'odd'" ng-class-even="'even'" ng-repeat="media in list"
                            ng-click="mediaDetails(media)">
                            <td class="  sorting_1">
                                {{media.name}}
                            </td>
                            <td class="  sorting_1">
                                {{config.appUrl}}{{media.link}}&nbsp;
                            </td>
                            <td>
                                <img ng-if="isPicture(media)"
                                    ng-src="/images/medias/200x100-50/{{media._id}}/{{media.link.split('/')[media.link.split('/').length - 1]}}"
                                    height="80" width="120" />
                                <i style="color: black;" ng-if="!isPicture(media)" class="fa fa-file-text fa-lg i-style"></i>
                            </td>
                            <td style="width:280px;">
                                <button class="btn btn-blue btn-with-icon" ng-click="copyLink($index, $event)"
                                    ng-if="isPicture(media)">{{"medias.medias.cpLien" | translate}}</button>
                                <button ng-click="remove(media, $event)" class="btn btn-red btn-with-icon"
                                    style="float: right;">
                                    <i class="ico-trash"></i>
                                    <span class="text" translate>medias.medias.delete</span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <pagination total-items="totalMedias" page="page" on-select-page="onPageChange(page)"
                    items-per-page="nbItemsPerPage" max-size="maxSize" boundary-links="true" rotate="false"></pagination>
            </div>
            <div ng-show="local.search !== ''" class="tab-content">
                <table class="table table-striped table-bordered bootstrap-datatable datatable dataTable"
                    id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info">
                    <thead>
                        <tr role="row" class="pointer">
                            <th role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                translate>
                                medias.medias.nom
                            </th>
                            <th role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1"
                                translate>
                                medias.medias.lien
                            </th>
                            <th role="columnheader" style="width: 20%" translate>
                                medias.medias.miniature
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody role="alert" aria-live="polite" aria-relevant="all">
                        <tr ng-class-odd="'odd'" ng-class-even="'even'" ng-repeat="media in list"
                            ng-click="mediaDetails(media)">
                            <td class="  sorting_1">
                                {{media.name}}
                            </td>
                            <td class="  sorting_1">
                                {{config.appUrl}}{{media.link}}&nbsp;
                            </td>
                            <td>
                                <img ng-if="isPicture(media)"
                                    ng-src="/images/medias/200x100-50/{{media._id}}/{{media.link.split('/')[media.link.split('/').length - 1]}}"
                                    height="80" width="120" />
                                <i style="color: black;" ng-if="!isPicture(media)" class="fa fa-file-text fa-lg i-style"></i>
                            </td>
                            <td style="width:280px;">
                                <button class="btn btn-blue btn-with-icon" ng-click="copyLink($index, $event)"
                                    ng-if="isPicture(media)">{{"medias.medias.cpLien" | translate}}</button>
                                <button ng-click="remove(media, $event)" class="btn btn-red btn-with-icon"
                                    style="float: right;">
                                    <i class="ico-trash"></i>
                                    <span class="text" translate>medias.medias.delete</span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <pagination total-items="totalMedias" page="page" on-select-page="onPageChange(page)"
                    items-per-page="nbItemsPerPage" max-size="maxSize" boundary-links="true" rotate="false"></pagination>
            </div> -->
        </div>



        <!-- <div class="row" style="margin-bottom:30px;overflow:scroll; height:70vh;overflow-x: hidden;padding:15px 20px">
            <div ng-repeat="media in medias">
                <div class="col-md-3" style="text-align: center;margin-bottom:20px">
                    <button ng-if="imageId === media._id" style="box-shadow: 0px 0px 20px 5px #576fa1;"
                        ng-click="selectImage(media)"><img
                            ng-src="/images/medias/200x100-50/{{media._id}}/{{media.link.split('/')[media.link.split('/').length - 1]}}"
                            alt=""></button>
                    <button ng-if="imageId !== media._id" ng-click="selectImage(media)"><img
                            ng-src="/images/medias/200x100-50/{{media._id}}/{{media.link.split('/')[media.link.split('/').length - 1]}}"
                            alt=""></button>
                    <br/>
                    <label>{{media.name || '-'}}</label>
                </div>
            </div>
        </div> -->
        <hr>
        <div class='row'>
            <div  class="col-md-4">
                <label translate>tinymce.modal.maxSize</label>
                <ns-switch id="maxSize" ng-model="size.max" name="maxSize"></ns-switch>
                <!-- <ns-switch id="maxSize" ng-model="false" name="active"></ns-switch> -->

            </div>
            <div class="col-md-8" ng-if="!size.max">

                <div class="col-md-2">
                    <label translate>tinymce.modal.width</label>
                </div>
                <div class="col-md-2">
                    <input type="number" class="form-control" ng-model="size.width" />
                </div>

                <div class="col-md-2">
                <label translate>tinymce.modal.height </label>
                </div>
                <div class="col-md-2">
                <input style="float:left" type="number" class="form-control" ng-model="size.height" />
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal-footer">
        <a href="#/medias"><button ng-click="cancel()" style="float:left" class="btn btn-default" translate>tinymce.modal.medias</button></a>
        <button class="btn btn-default" ng-click="cancel()" translate>tinymce.modal.cancel</button>
        <button class="btn btn-default" ng-disabled="!imageSelected || (size.max === false && (size.width === undefined || size.width === null || size.height === undefined || size.height === null || size.width < 0 || size.height < 0 )) " ng-click="generate()" translate>tinymce.modal.add</button>
    </div>
</div>
